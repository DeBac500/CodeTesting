<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>(J)Robotrader Manual 0.2.8</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="d0e1"></a>(J)Robotrader Manual 0.2.8</h1></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="#d0e7">Objectives</a></span></dt><dt><span class="chapter"><a href="#d0e12">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e15">1. Intended Audience</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e20">2. Installation</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e28">1. Configuration files</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e50">3. Simple Automated Traders</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e55">1. Keeper (<code class="classname">robotrader.trader.example.Keeper</code>)</a></span></dt><dt><span class="section"><a href="#d0e63">2. Follower (<code class="classname">robotrader.trader.example.Follower</code>)</a></span></dt><dt><span class="section"><a href="#d0e71">3. Win Follower (<code class="classname">robotrader.trader.example.WinFollower</code>)</a></span></dt><dt><span class="section"><a href="#d0e79">4. Streak Follower (<code class="classname">robotrader.trader.example.StreakFollower</code>)</a></span></dt><dt><span class="section"><a href="#d0e87">5. Cautious Streak Follower (<code class="classname">robotrader.trader.example.CautiousStreakFollower</code>)</a></span></dt><dt><span class="section"><a href="#d0e95">6. Turning Point Trader (<code class="classname">robotrader.trader.example.TurningPointTrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e117">7. Cost Average Trader (<code class="classname">robotrader.trader.example.TurningPointTrader</code>)</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e125">4. Technical Indicators</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e130">1. DeMarker (<code class="classname">robotrader.trader.indicator.DeMarkerTrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e140">2. Moving Average Convergence Divergence (MACD) (<code class="classname">robotrader.trader.indicator.MACDTrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e168">3. Money Flow Index (<code class="classname">robotrader.trader.indicator.MFITrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e187">4. Relative Strength Index (<code class="classname">robotrader.trader.indicator.RSITrader</code>)</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e197">5. Machine Learning Methods</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e202">1. Regression (<code class="classname">robotrader.trader.machinelearning.RegressionTrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e213">2. Polynomial Regression (<code class="classname">robotrader.trader.machinelearning.PolynomialRegressionTrader</code>)</a></span></dt><dt><span class="section"><a href="#d0e224">3. Neural Network (<code class="classname">robotrader.trader.machinelearning.JooneNeuralNetworkTrader</code>)</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e241">6. Main Graphical User Interface</a></span></dt><dt><span class="chapter"><a href="#d0e303">7. Examples of Trading Performances</a></span></dt><dt><span class="chapter"><a href="#d0e308">8. Indicator Panel</a></span></dt><dt><span class="chapter"><a href="#d0e325">9. Command Line Tools</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e330">1. Main Console</a></span></dt><dt><span class="section"><a href="#d0e338">2. Automatic Price Updates</a></span></dt></dl></dd></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e7"></a>Objectives</h2></div></div></div><p>The objective of the robotrader is to create a simple simulated automated trading system using technical indicators, machine learning methods and other well-known trading strategies. The scope is currently limited to trading methods that base their decisions only on historical pricing information. The pricing information is extracted from Yahoo! Finance but it is our intention to include other data providers in the future.</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e12"></a>Chapter&nbsp;1.&nbsp;Introduction</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e15"></a>1.&nbsp;Intended Audience</h2></div></div></div><p>The robotrader is a java application that can be used by any investor who is interested in the results of technical trading methods.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e20"></a>Chapter&nbsp;2.&nbsp;Installation</h2></div></div></div><p>Download the latest version from <a href="http://sourceforge.net/projects/robotrader" target="_top">SourceForge</a>. Extract the archive file to your favourite directory. Edit the configuration files as required. Start either the GUI or the command line tool.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e28"></a>1.&nbsp;Configuration files</h2></div></div></div><p>The traders xml file configures the automated traders that are competing against each other. The current default traders file can be found under <code class="filename">conf/traders.xml</code>. The first line of the file denotes the version of the xml and the encoding of the characters as follows</p><p><code class="sgmltag-element">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code></p><p>The <code class="sgmltag-element">&lt;traders&gt; &lt;/traders&gt;</code> xml tags indicate the start and the end of the trader xml elements. Each of the traders is denoted with the <code class="sgmltag-element">&lt;trader class="[full java class name]"/&gt;</code> with the class attribute pointing to the actual java class name. This suffices to include the trader within the list of traders that are to compete against each other. However, in many cases further properties can be set to configure some of the parameters of each trader, such as the length of the period of historic prices to include for the decision making. These properties are added as follows</p><p><code class="sgmltag-element">&lt;property key="[key]" value="[value]"/&gt;</code></p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e50"></a>Chapter&nbsp;3.&nbsp;Simple Automated Traders</h2></div></div></div><p>The traders below follow simple trading strategies</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e55"></a>1.&nbsp;Keeper (<code class="classname">robotrader.trader.example.Keeper</code>)</h2></div></div></div><p>The Keeper is the simplest of all traders. It invests all of its funds in the stock at the start of the trading period and keeps (hence Keeper) the acquired positions until the end of the trading period. The Keeper is a copy of the performance of the underlying instrument. Any other technical trader should beat the Keeper trader in order to beat the market.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e63"></a>2.&nbsp;Follower (<code class="classname">robotrader.trader.example.Follower</code>)</h2></div></div></div><p>The Follower, as the name suggests, follows the streaks of the underlying instrument as long as the price is non-decreasing. Whenever the price goes down, the positions in the stock are sold.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71"></a>3.&nbsp;Win Follower (<code class="classname">robotrader.trader.example.WinFollower</code>)</h2></div></div></div><p>The WinFollower invests all the funds in the instrument when the price goes up and keeps the positions until a minimum percentage of profit is made. In that case, the stock is sold. The same situation arises when a maximum loss percentage is encountered as all positions are sold in this case as well. The default percentages are 10% for minimum profit and 5% for maximum loss.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e79"></a>4.&nbsp;Streak Follower (<code class="classname">robotrader.trader.example.StreakFollower</code>)</h2></div></div></div><p>The StreakFollower buys or sells all its position in the investment whenever the direction of the streak remains constant for a minimum number of streaks. The trader therefore buys the stock when a minimum number of streaks with increasing prices are encountered and sells the positions when a minimum number of streaks with decreasing prices for the stock are found. The default number of up streaks is 3 and down streaks is 0.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e87"></a>5.&nbsp;Cautious Streak Follower (<code class="classname">robotrader.trader.example.CautiousStreakFollower</code>)</h2></div></div></div><p>The CautiousStreakFollower is similar to the StreakFollower, however, instead of spending all its cash on the stock when the minimum number of up streaks is encountered, only a percentage of the cash is spend. The default percentage is 50%.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e95"></a>6.&nbsp;Turning Point Trader (<code class="classname">robotrader.trader.example.TurningPointTrader</code>)</h2></div></div></div><p>The Turning Point Trader tries to determine the turning points of a time series by very simple means. It employs three levels</p><div class="itemizedlist"><ul type="disc"><li><p>Buying Level: Is a certain percentage above the minimum price encountered during a period</p></li></ul></div><div class="itemizedlist"><ul type="disc"><li><p>Selling Level 1: Is a certain percentage below the maximum price encountered over the period</p></li></ul></div><div class="itemizedlist"><ul type="disc"><li><p>Selling Level 2: Is a certain percentage above the buy level</p></li></ul></div><p>The trader buys the shares of the instrument whenever the current price is above the buy level but below both sell levels. When the price falls below the first sell level and the buy level is below that sell level, the stock is sold. Furthermore, if the price is above the second sell level, the stock is also sold.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e117"></a>7.&nbsp;Cost Average Trader (<code class="classname">robotrader.trader.example.TurningPointTrader</code>)</h2></div></div></div><p>The cost average trader spreads its funds evenly over the entire trading period in constant intervals. It is supposed to resemble the trader that invests the same amount of cash into the same stock each week/ month/ quarter or year.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e125"></a>Chapter&nbsp;4.&nbsp;Technical Indicators</h2></div></div></div><p>The following traders are based on popular technical indicators.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e130"></a>1.&nbsp;DeMarker (<code class="classname">robotrader.trader.indicator.DeMarkerTrader</code>)</h2></div></div></div><p>Demarker Technical Indicator is based on the comparison of the period maximum with the previous period maximum. If the current period (bar) maximum is higher, the respective difference between the two will be registered. If the current maximum is lower or equaling the maximum of the previous period, the naught value will be registered. The differences received for N periods are then summarized. The received value is used as the numerator of the DeMarker and will be divided by the same value plus the sum of differences between the price minima of the previous and the current periods (bars).</p><p>If the current price minimum is greater than that of the previous bar, the naught value will be registered. When the indicator falls below 30, the bullish price reversal should be expected. When the indicator rises above 70, the bearish price reversal should be expected. If you use periods of longer duration, when calculating the indicator, you&#8217;ll be able to catch the long term market tendency. Indicators based on short periods let you enter the market at the point of the least risk and plan the time of transaction so that it falls in with the major trend.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e140"></a>2.&nbsp;Moving Average Convergence Divergence (MACD) (<code class="classname">robotrader.trader.indicator.MACDTrader</code>)</h2></div></div></div><p>Moving Average Convergence/Divergence is the next trend-following dynamic indicator. It indicates the correlation between two price moving averages. The Moving Average Convergence/Divergence Technical Indicator is the difference between a 26-period and 12-period Exponential Moving Average (EMA).</p><p>In order to clearly show buy/sell opportunities, a so-called signal line (9-period indicators` moving average) is plotted on the MACD chart. The MACD proves most effective in wide-swinging trading markets.</p><p>There are three popular ways to use the Moving Average Convergence/Divergence:</p><div class="itemizedlist"><ul type="disc"><li><p>crossovers</p></li><li><p>overbought/oversold conditions, and</p></li><li><p>divergences</p></li></ul></div><p>The basic MACD trading rule is to sell when the MACD falls below its signal line. Similarly, a buy signal occurs when the Moving Average Convergence/Divergence rises above its signal line. It is also popular to buy/sell when the MACD goes above/below zero.</p><p>The MACD is also useful as an overbought/oversold indicator. When the shorter moving average pulls away dramatically from the longer moving average (i.e., the MACD rises), it is likely that the security price is overextending and will soon return to more realistic levels.</p><p>An indication that an end to the current trend may be near occurs when the MACD diverges from the security. A bullish divergence occurs when the Moving Average Convergence/Divergence indicator is making new highs while prices fail to reach new highs. A bearish divergence occurs when the MACD is making new lows while prices fail to reach new lows. Both of these divergences are most significant when they occur at relatively overbought/oversold levels.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e168"></a>3.&nbsp;Money Flow Index (<code class="classname">robotrader.trader.indicator.MFITrader</code>)</h2></div></div></div><p>The Money Flow Index (MFI) is a momentum indicator that is similar to the Relative Strength Index (RSI) in both interpretation and calculation. However, MFI is a more rigid indicator in that it is volume-weighted, and is therefore a good measure of the strength of money flowing in and out of a security. It compares "positive money flow" to "negative money flow" to create an indicator that can be compared to price in order to identify the strength or weakness of a trend. Like the RSI, the MFI is measured on a 0 - 100 scale and is often calculated using a 14 day period. The "flow" of money is the product of price and volume and shows the demand for a security and a certain price. The money flow is not the same as the Money Flow Index but rather is a component of calculating it. So when calculating the money flow, we first need to find the average price for a period. Since we are often looking at a 14-day period, we will calculate the typical price for a day and use that to create a 14-day average.</p><div class="equation"><div><img src="resources/MFI-typprice.png"></div></div><p>Money Flow = (Typical Price) x (Volume) The MFI compares the ratio of "positive" money flow and "negative" money flow. If typical price today is greater than yesterday, it is considered positive money. For a 14-day average, the sum of all positive money for those 14 days is the positive money flow. The MFI is based on the ratio of positive/negative money flow (Money Ratio).</p><div class="equation"><div><img src="resources/MFI-moneyratio.png"></div></div><p></p><div class="equation"><div><img src="resources/MFI-mfiindex.png"></div></div><p>The MFI can be interpreted much like the RSI in that it can signal divergences and overbought/oversold conditions. Positive and negative divergences between the stock and the MFI can be used as buy and sell signals respectively, for they often indicate the imminent reversal of a trend. If the stock price is falling, but positive money flow tends to be greater than negative money flow, then there is more volume associated with daily price rises than with the price drops. This suggests a weak downtrend that threatens to reverse as money flowing into the security is "stronger" than money flowing out of it. As with the RSI, the MFI can be used to determine if there is too much or too little volume associated with a security. A stock is considered "overbought" if the MFI indicator reaches 80 and above (a bearish reading). On the other end of the spectrum, a bullish reading of 20 and below suggests a stock is "oversold".</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e187"></a>4.&nbsp;Relative Strength Index (<code class="classname">robotrader.trader.indicator.RSITrader</code>)</h2></div></div></div><p>Developed by J. Welles Wilder and introduced in his 1978 book, New Concepts in Technical Trading Systems, the Relative Strength Index (RSI) is an extremely useful and popular momentum oscillator. The RSI compares the magnitude of a stock's recent gains to the magnitude of its recent losses and turns that information into a number that ranges from 0 to 100. It takes a single parameter, the number of time periods to use in the calculation. In his book, Wilder recommends using 14 periods. The RSI's full name is actually rather unfortunate as it is easily confused with other forms of Relative Strength analysis such as John Murphy's "Relative Strength" charts and IBD's "Relative Strength" rankings. Most other kinds of "Relative Strength" stuff involve using more than one stock in the calculation. Like most true indicators, the RSI only needs one stock to be computed. In order to avoid confusion, many people avoid using the RSI's full name and just call it "the RSI."</p><div class="equation"><div><img src="resources/rsi-formula1.gif"></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e197"></a>Chapter&nbsp;5.&nbsp;Machine Learning Methods</h2></div></div></div><p>These traders that employ machine learning algorithms for time-series forecasting.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e202"></a>1.&nbsp;Regression (<code class="classname">robotrader.trader.machinelearning.RegressionTrader</code>)</h2></div></div></div><p>The linear regression trader is based on the single variable linear regression forecasting model from <a href="http://openforecast.sourceforge.net" target="_top">Openforecast</a>. The trader tries to fit the training data to a straight line by minimising the mean sum of the squared errors between the line and the data.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e213"></a>2.&nbsp;Polynomial Regression (<code class="classname">robotrader.trader.machinelearning.PolynomialRegressionTrader</code>)</h2></div></div></div><p>The linear regression trader is based on the single variable ploynomial regression forecasting model from <a href="http://openforecast.sourceforge.net" target="_top">Openforecast</a>. Works in a similar fashion to the regression trader, however, it tries to fit the training data to a polynomial function.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e224"></a>3.&nbsp;Neural Network (<code class="classname">robotrader.trader.machinelearning.JooneNeuralNetworkTrader</code>)</h2></div></div></div><p>The neural network forecasting trader is based on the Java Object-Oriented Neural Network Engine <a href="http://joone.sourceforge.net" target="_top">Joone</a>. The architecture can be summarised as follows: The training data is normalised and then fed into a delay layer which stores up to <code class="code">taps+1</code> previous prices. These prices are then forwarded to the sigmoid layers of the neural network. The teacher compares the output of the network with the calculated turning points and the errors are fed back to the network to facilitate learning. A turning point exists whenever a minimum change percentage is encountered for the price time series. The learning process is repeated <code class="code">epoch</code> times.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e241"></a>Chapter&nbsp;6.&nbsp;Main Graphical User Interface</h2></div></div></div><p>When you run the startGui.bat, the following window appears. You can either scroll the buttons on the left-hand side which work in a similar fashion to MS Outlook. Alternatively, you can choose your selection from the menu bar at the top.</p><div class="figure"><a name="d0e246"></a><p class="title"><b>Figure&nbsp;6.1.&nbsp;The Start Window</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_start.JPG" width="432" alt="The Start Window"></div></div></div><p>When you click on the Simulation -&gt; View button (or select the menu) you get a window similar to the one below. The quote file specifies the ticker used by Yahoo finance. In this instance, the COKE is modelled. The trader file denotes the location of the xml file which specifies all the traders to include together with their parameters.</p><div class="figure"><a name="d0e257"></a><p class="title"><b>Figure&nbsp;6.2.&nbsp;The Dates Dialog</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_dates.jpg" alt="The Dates Dialog"></div></div></div><div class="figure"><a name="d0e265"></a><p class="title"><b>Figure&nbsp;6.3.&nbsp;The View Window (for COKE)</b></p><div class="mediaobject"><img src="resources/robotrader_coke.jpg" width="432" alt="The View Window (for COKE)"></div></div><div class="figure"><a name="d0e271"></a><p class="title"><b>Figure&nbsp;6.4.&nbsp;The Quotes Panel</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_quotes.jpg" width="432" alt="The Quotes Panel"></div></div></div><div class="figure"><a name="d0e279"></a><p class="title"><b>Figure&nbsp;6.5.&nbsp;Load Traders Panel</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_loadtraders.jpg" width="432" alt="Load Traders Panel"></div></div></div><div class="figure"><a name="d0e287"></a><p class="title"><b>Figure&nbsp;6.6.&nbsp;Edit Traders Dialog</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_edittrader.jpg" alt="Edit Traders Dialog"></div></div></div><div class="figure"><a name="d0e295"></a><p class="title"><b>Figure&nbsp;6.7.&nbsp;Report Panel</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_reports.jpg" width="432" alt="Report Panel"></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e303"></a>Chapter&nbsp;7.&nbsp;Examples of Trading Performances</h2></div></div></div><p>To be done.</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e308"></a>Chapter&nbsp;8.&nbsp;Indicator Panel</h2></div></div></div><p>The indicator panel displays the latest trading decisions of the traders. It requires three parameters, the path where all the tickers can be found (e.g. conf/), the path to the master quote file (e.g. conf/quotes.xml) and the path to the traders (e.g. conf/traders.xml).</p><p><code class="code">java robotrader.indicator.gui.IndicatorPanelMain tickerspath masterquotefilepath tradersfilepath</code></p><div class="figure"><a name="d0e316"></a><p class="title"><b>Figure&nbsp;8.1.&nbsp;Indicator Panels</b></p><div class="screenshot"><div class="mediaobject"><img src="resources/robotrader_indicator.JPG" width="432" alt="Indicator Panels"></div></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e325"></a>Chapter&nbsp;9.&nbsp;Command Line Tools</h2></div></div></div><p>There are two command line tools that facilitate the batch processing of the automated traders as well as automatic price updates from Yahoo! Finance.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e330"></a>1.&nbsp;Main Console</h2></div></div></div><p>The main console runs the trading algorithms included in a trader configuration file against either a single instrument or all instruments in batch mode. It requires three command line options that need to be given prior to execution.</p><p><code class="code">java robotrader.ConsoleMain xmlmasterquotefile xmltraderfile instrument|-all</code></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e338"></a>2.&nbsp;Automatic Price Updates</h2></div></div></div><p>The automatic price updater takes a list of tickers and the master quote file name and updates the prices of the instruments until the most recent available at Yahoo! Finance.</p><p><code class="code">java robotrader.quotedb.web.UpdateQuotesMain tickersfilepath xmlmasterquotefile [loadfrom US(default)|FR]</code></p></div></div></div></body></html>